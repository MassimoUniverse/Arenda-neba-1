# üîß –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º –≤—ã–ª–µ—Ç–∞ —Å—Ç—Ä–µ–ª—ã

## –ü—Ä–æ–±–ª–µ–º–∞
–°—Ö–µ–º—ã –≤—ã–ª–µ—Ç–∞ —Å—Ç—Ä–µ–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã 30 –¥–µ–∫–∞–±—Ä—è, –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.

## –†–µ—à–µ–Ω–∏–µ

### 0. –°–Ω–∞—á–∞–ª–∞ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):

```bash
cd deploy
node fix-database.js
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ —Ç–∞–±–ª–∏—Ü—ã `services` –∏, –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç, —Å–∫–æ–ø–∏—Ä—É–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±—ç–∫–∞–ø–∞ "slightly done".

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ —Å—Ö–µ–º—ã –≤ –±–∞–∑–µ:

```bash
cd deploy
node check-reach-diagrams.js
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç:
- –ö–∞–∫–∏–µ —É—Å–ª—É–≥–∏ –∏–º–µ—é—Ç —Å—Ö–µ–º—ã
- –ö–∞–∫–∏–µ —É—Å–ª—É–≥–∏ –Ω–µ –∏–º–µ—é—Ç —Å—Ö–µ–º
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ö–µ–º –¥–ª—è –∫–∞–∂–¥–æ–π —É—Å–ª—É–≥–∏

### 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ö–µ–º—ã –∏–∑ –±—ç–∫–∞–ø–∞:

```bash
cd deploy
node restore-reach-diagrams.js
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –û—Ç–∫—Ä–æ–µ—Ç –±—ç–∫–∞–ø "slightly done"
- –ù–∞–π–¥–µ—Ç –≤—Å–µ —Å—Ö–µ–º—ã –≤—ã–ª–µ—Ç–∞ —Å—Ç—Ä–µ–ª—ã
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç –∏—Ö –≤ —Ç–µ–∫—É—â—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

### 3. –ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
   ```bash
   pm2 restart arenda-neba
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–∞–π—Ç–µ

3. –ï—Å–ª–∏ —Å—Ö–µ–º—ã –≤—Å–µ –µ—â–µ –Ω–µ –≤–∏–¥–Ω—ã, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –û—Ç–∫—Ä—ã—Ç–∞ –ª–∏ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
   - –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

## –ï—Å–ª–∏ –±—ç–∫–∞–ø –Ω–µ –Ω–∞–π–¥–µ–Ω:

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±—ç–∫–∞–ø–æ–≤. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø—É—Ç—å –≤ `restore-reach-diagrams.js`:

```javascript
const backupDbPath = path.join(__dirname, '..', 'backups', 'slightly done', 'database.db');
```

–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±—ç–∫–∞–ø "slightly done". –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –±—ç–∫–∞–ø, –∑–∞–º–µ–Ω–∏—Ç–µ `'slightly done'` –Ω–∞ –Ω—É–∂–Ω—É—é –ø–∞–ø–∫—É.

