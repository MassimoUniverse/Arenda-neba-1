# ‚ö° –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: deploy.sh –Ω–µ –Ω–∞–π–¥–µ–Ω

## –ü—Ä–æ–±–ª–µ–º–∞
```
bash: /opt/arenda-neba/deploy.sh: No such file or directory
```

## –†–µ—à–µ–Ω–∏–µ (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä (2 –º–∏–Ω—É—Ç—ã)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/arenda-neba

# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª
nano deploy.sh
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ `F:\New site\deploy.sh`** –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

**–í–ê–ñ–ù–û:** –ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É 12:
```bash
PROJECT_DIR="/opt/arenda-neba"
```

–ó–∞—Ç–µ–º:
```bash
chmod +x deploy.sh
pm2 restart webhook
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª —á–µ—Ä–µ–∑ git (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/arenda-neba
git pull origin main

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª –ø–æ—è–≤–∏–ª—Å—è
ls -la deploy.sh

# –ï—Å–ª–∏ —Ñ–∞–π–ª –µ—Å—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x deploy.sh

# –û–±–Ω–æ–≤–∏—Ç–µ –ø—É—Ç—å –≤ —Ñ–∞–π–ª–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
nano deploy.sh
# –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É 12 –Ω–∞: PROJECT_DIR="/opt/arenda-neba"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ webhook
pm2 restart webhook
pm2 logs webhook
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/arenda-neba

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è PM2
pm2 set webhook PROJECT_DIR /opt/arenda-neba

# –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
echo "PROJECT_DIR=/opt/arenda-neba" >> .env

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ webhook
pm2 restart webhook
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –°–¥–µ–ª–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π push
cd "F:\New site\deploy"
git commit --allow-empty -m "Test webhook"
git push origin main

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs webhook --lines 20
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
üîÑ –ü–æ–ª—É—á–µ–Ω webhook, –∑–∞–ø—É—Å–∫–∞–µ–º –¥–µ–ø–ª–æ–π...
‚úÖ –î–µ–ø–ª–æ–π —É—Å–ø–µ—à–µ–Ω
```
